{"ignition":{"config":{},"security":{"tls":{}},"timeouts":{},"version":"2.3.0"},"networkd":{},"passwd":{},"storage":{"directories":[{"filesystem":"root","path":"/opt/bin/sysbox","mode":493}],"files":[{"filesystem":"root","path":"/opt/bin/sysbox/sysbox-runc","contents":{"source":"https://github.com/nestybox/sysbox-flatcar-preview/releases/download/test1/sysbox-runc","verification":{}},"mode":493},{"filesystem":"root","path":"/opt/bin/sysbox/sysbox-fs","contents":{"source":"https://github.com/nestybox/sysbox-flatcar-preview/releases/download/test1/sysbox-fs","verification":{}},"mode":493},{"filesystem":"root","path":"/opt/bin/sysbox/sysbox-mgr","contents":{"source":"https://github.com/nestybox/sysbox-flatcar-preview/releases/download/test1/sysbox-mgr","verification":{}},"mode":493},{"filesystem":"root","path":"/opt/bin/sysbox/fusermount","contents":{"source":"https://github.com/nestybox/sysbox-flatcar-preview/releases/download/test1/fusermount","verification":{}},"mode":493},{"filesystem":"root","path":"/opt/bin/sysbox/shiftfs.ko","contents":{"source":"https://github.com/nestybox/sysbox-flatcar-preview/releases/download/test1/shiftfs.ko","verification":{}},"mode":493},{"filesystem":"root","path":"/etc/modules-load.d/50-sysbox-mod.conf","contents":{"source":"data:,configfs%0A","verification":{}},"mode":420},{"filesystem":"root","path":"/etc/sysctl.d/99-sysbox-sysctl.conf","contents":{"source":"data:,fs.inotify.max_queued_events%20%3D%201048576%0Afs.inotify.max_user_watches%20%3D%201048576%0Afs.inotify.max_user_instances%20%3D%201048576%0Akernel.keys.maxkeys%20%3D%2020000%0Akernel.keys.maxbytes%20%3D%20400000%0A","verification":{}},"mode":420},{"filesystem":"root","path":"/opt/bin/sysbox/docker-cfg","contents":{"source":"https://raw.githubusercontent.com/nestybox/sysbox-flatcar-preview/master/scr/docker-cfg","verification":{}},"mode":493}]},"systemd":{"units":[{"contents":"[Unit]\nDescription=Load shiftfs module into kernel\nBefore=sysbox.service\n\n[Service]\nType=oneshot\nExecStart=/bin/sh -c \"insmod /opt/bin/sysbox/shiftfs.ko || true\"\n\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"shiftfs.service"},{"contents":"[Unit]\nDescription=Sysbox container runtime\nDocumentation=https://github.com/nestybox/sysbox\nBindsTo=sysbox-mgr.service sysbox-fs.service\nAfter=sysbox-mgr.service sysbox-fs.service\nBefore=docker.service containerd.service\n\n[Service]\nType=exec\nExecStart=/bin/sh -c \"/opt/bin/sysbox/sysbox-runc --version \u0026\u0026 /opt/bin/sysbox/sysbox-mgr --version \u0026\u0026 /opt/bin/sysbox/sysbox-fs --version \u0026\u0026 /bin/sleep infinity\"\n\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"sysbox.service"},{"contents":"[Unit]\nDescription=sysbox-fs (part of the Sysbox container runtime)\nPartOf=sysbox.service\nAfter=sysbox-mgr.service\n\n[Service]\nType=simple\nType=notify\nEnvironment=PATH=/opt/bin/sysbox/:$PATH\nExecStart=/opt/bin/sysbox/sysbox-fs\nTimeoutStartSec=10\nTimeoutStopSec=10\nStartLimitInterval=0\nNotifyAccess=main\nOOMScoreAdjust=-500\nLimitNOFILE=infinity\nLimitNPROC=infinity\n\n[Install]\nWantedBy=sysbox.service\n","enabled":true,"name":"sysbox-fs.service"},{"contents":"[Unit]\nDescription=sysbox-mgr (part of the Sysbox container runtime)\nPartOf=sysbox.service\n\n[Service]\nType=simple\nType=notify\nExecStartPre=/bin/sh -c \"useradd sysbox \u003e /dev/null 2\u003e\u00261  || true\"\nExecStart=/opt/bin/sysbox/sysbox-mgr\nTimeoutStartSec=45\nTimeoutStopSec=90\nStartLimitInterval=0\nNotifyAccess=main\nOOMScoreAdjust=-500\nLimitNOFILE=infinity\nLimitNPROC=infinity\n\n[Install]\nWantedBy=sysbox.service\n","enabled":true,"name":"sysbox-mgr.service"},{"contents":"[Unit]\nDescription=Docker config for Sysbox\nAfter=docker.service\n\n[Service]\nType=oneshot\nExecStart=/bin/sh -c \"/opt/bin/sysbox/docker-cfg -v --sysbox-runtime=enable\"\n\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"docker-sysbox-cfg.service"}]}}